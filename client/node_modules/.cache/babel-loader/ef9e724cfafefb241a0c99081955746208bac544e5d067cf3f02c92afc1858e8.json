{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrew\\\\Desktop\\\\NagwaCo-EnglishQuiz\\\\client\\\\src\\\\pages\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport apiClient from '../services';\nimport endPoints from '../services/endpoints';\nimport '../styles/quiz.css';\nimport QuizContainer from \"../containers/quizContainer.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Quiz() {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const [wordsList, setWordsList] = useState([]);\n  const navigate = useNavigate();\n  const [totalCorrectAnswers, setTotalCorrectAnswers] = useState(0);\n  const [currentQuestion, setCurrentQuestion] = useState({\n    number: 0,\n    id: null,\n    word: '',\n    pos: '',\n    answer: false\n  });\n  useEffect(() => {\n    async function fetchWordsList() {\n      const result = await apiClient.get(endPoints.wordsList);\n      return result;\n    }\n    fetchWordsList().then(res => res.data).then(data => {\n      setWordsList(data);\n      setCurrentQuestion({\n        number: 0,\n        ...data[0],\n        answer: false\n      });\n    }).catch(err => console.log(err.message));\n  }, []);\n  const handleNextQuestion = () => {\n    let nextWordNumber = currentQuestion.number + 1;\n    setCurrentQuestion({\n      number: nextWordNumber,\n      ...wordsList[nextWordNumber],\n      answer: false\n    });\n  };\n  const increaseTotalCorrectAnswers = () => {\n    setTotalCorrectAnswers(totalCorrectAnswers + 1);\n  };\n  const updateAnswerValue = syntactic => {\n    setCurrentQuestion({\n      ...currentQuestion,\n      answer: syntactic\n    });\n  };\n  const handleAnswer = syntactic => {\n    if (syntactic === currentQuestion.pos) {\n      increaseTotalCorrectAnswers();\n    }\n    updateAnswerValue(syntactic);\n  };\n  const handleOnNextButtonClick = () => {\n    if (currentQuestion.number === 9) {\n      navigate(\"/rank\", {\n        state: {\n          ...state,\n          score: totalCorrectAnswers\n        }\n      });\n    } else {\n      handleNextQuestion();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(QuizContainer, {\n    currentQuestion: currentQuestion,\n    totalCorrectAnswers: totalCorrectAnswers,\n    handleAnswer: handleAnswer,\n    handleOnNextButtonClick: handleOnNextButtonClick,\n    state: state\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n_s(Quiz, \"FLN7SUiny5j8kk0zYMOFIXAke90=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["useState","useEffect","useNavigate","useLocation","apiClient","endPoints","QuizContainer","Quiz","state","wordsList","setWordsList","navigate","totalCorrectAnswers","setTotalCorrectAnswers","currentQuestion","setCurrentQuestion","number","id","word","pos","answer","fetchWordsList","result","get","then","res","data","catch","err","console","log","message","handleNextQuestion","nextWordNumber","increaseTotalCorrectAnswers","updateAnswerValue","syntactic","handleAnswer","handleOnNextButtonClick","score"],"sources":["C:/Users/Andrew/Desktop/NagwaCo-EnglishQuiz/client/src/pages/Quiz.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {useNavigate, useLocation} from \"react-router-dom\";\r\nimport apiClient from '../services'\r\nimport endPoints from '../services/endpoints'\r\nimport '../styles/quiz.css'\r\nimport QuizContainer from \"../containers/quizContainer.js\";\r\n\r\nfunction Quiz () {\r\n    const {state} = useLocation()\r\n    const [wordsList, setWordsList] = useState([]);\r\n    const navigate = useNavigate();\r\n    const [totalCorrectAnswers, setTotalCorrectAnswers] = useState(0);\r\n    const [currentQuestion, setCurrentQuestion] = useState({\r\n            number: 0, \r\n            id: null,\r\n            word: '',\r\n            pos: '',\r\n            answer: false\r\n        })\r\n    \r\n\r\n    useEffect(() => {\r\n        async function fetchWordsList() {\r\n            const result = await apiClient.get(\r\n                endPoints.wordsList,\r\n            );\r\n            return result\r\n        }\r\n        \r\n        fetchWordsList()\r\n        .then(res => res.data)\r\n        .then(data => {\r\n            setWordsList(data)\r\n            setCurrentQuestion({\r\n                number: 0,\r\n                ...data[0],\r\n                answer: false\r\n            })\r\n        })\r\n        \r\n        .catch(err => console.log(err.message))\r\n\r\n    }, []);\r\n    \r\n    \r\n    \r\n    const handleNextQuestion= () => {\r\n        let nextWordNumber = currentQuestion.number +1 ;\r\n        setCurrentQuestion({\r\n            number: nextWordNumber,\r\n            ...wordsList[nextWordNumber],\r\n            answer: false\r\n        })\r\n    }\r\n    \r\n    const increaseTotalCorrectAnswers = () => {\r\n        setTotalCorrectAnswers(totalCorrectAnswers + 1);\r\n    }\r\n\r\n\r\n    const updateAnswerValue = (syntactic) => {\r\n        setCurrentQuestion({\r\n            ...currentQuestion,\r\n            answer: syntactic\r\n        });\r\n    }\r\n\r\n    const handleAnswer = (syntactic) => {\r\n        if(syntactic === currentQuestion.pos) {\r\n            increaseTotalCorrectAnswers();\r\n        }\r\n\r\n        updateAnswerValue(syntactic)\r\n    }\r\n\r\n    const handleOnNextButtonClick = () => {\r\n        if(currentQuestion.number === 9) {\r\n             navigate(\"/rank\", {state: {...state, score: totalCorrectAnswers}})\r\n        } else {\r\n            handleNextQuestion()\r\n        }         \r\n    }\r\n    \r\n\r\n    \r\n\r\n    return (\r\n        <QuizContainer \r\n        currentQuestion={currentQuestion} \r\n        totalCorrectAnswers={totalCorrectAnswers} \r\n        handleAnswer={handleAnswer} \r\n        handleOnNextButtonClick={handleOnNextButtonClick}\r\n        state={state}/>\r\n    )\r\n}\r\n\r\nexport default Quiz"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}