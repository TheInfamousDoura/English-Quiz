{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrew\\\\Desktop\\\\NagwaCo-EnglishQuiz\\\\client\\\\src\\\\pages\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport apiClient from \"../services\";\nimport endPoints from \"../services/endpoints\";\nimport \"../styles/quiz.css\";\nimport QuizContainer from \"../containers/quizContainer.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Quiz() {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const [wordsList, setWordsList] = useState([]);\n  const navigate = useNavigate();\n  const [totalCorrectAnswers, setTotalCorrectAnswers] = useState(0);\n  const [currentQuestion, setCurrentQuestion] = useState({\n    number: 0,\n    id: null,\n    word: \"\",\n    pos: \"\",\n    answer: false\n  });\n  useEffect(() => {\n    async function fetchWordsList() {\n      const result = await apiClient.get(endPoints.wordsList);\n      return result;\n    }\n    fetchWordsList().then(res => res.data).then(data => {\n      setWordsList(data);\n      setCurrentQuestion({\n        number: 0,\n        ...data[0],\n        answer: false\n      });\n    }).catch(err => console.log(err.message));\n  }, []);\n  const handleNextQuestion = () => {\n    let nextWord = currentQuestion.number + 1;\n    setCurrentQuestion({\n      number: nextWord,\n      ...wordsList[nextWord],\n      answer: false\n    });\n  };\n  const increaseTotalCorrectAnswers = () => {\n    setTotalCorrectAnswers(totalCorrectAnswers + 1);\n  };\n  const updateAnswerValue = syntactic => {\n    setCurrentQuestion({\n      ...currentQuestion,\n      answer: syntactic\n    });\n  };\n  const handleAnswer = syntactic => {\n    if (syntactic === currentQuestion.pos) {\n      increaseTotalCorrectAnswers();\n    }\n    updateAnswerValue(syntactic);\n  };\n  const handleOnNextButtonClick = () => {\n    if (currentQuestion.number === 9) {\n      navigate(\"/rank\", {\n        state: {\n          ...state,\n          score: totalCorrectAnswers\n        }\n      });\n    } else {\n      handleNextQuestion();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(QuizContainer, {\n    currentQuestion: currentQuestion,\n    totalCorrectAnswers: totalCorrectAnswers,\n    handleAnswer: handleAnswer,\n    handleOnNextButtonClick: handleOnNextButtonClick,\n    state: state\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(Quiz, \"jSMTTO2g5sPdJ78QPijQjSNXJdU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["useState","useEffect","useNavigate","useLocation","apiClient","endPoints","QuizContainer","Quiz","state","wordsList","setWordsList","navigate","totalCorrectAnswers","setTotalCorrectAnswers","currentQuestion","setCurrentQuestion","number","id","word","pos","answer","fetchWordsList","result","get","then","res","data","catch","err","console","log","message","handleNextQuestion","nextWord","increaseTotalCorrectAnswers","updateAnswerValue","syntactic","handleAnswer","handleOnNextButtonClick","score"],"sources":["C:/Users/Andrew/Desktop/NagwaCo-EnglishQuiz/client/src/pages/Quiz.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport apiClient from \"../services\";\r\nimport endPoints from \"../services/endpoints\";\r\nimport \"../styles/quiz.css\";\r\nimport QuizContainer from \"../containers/quizContainer.js\";\r\n\r\nfunction Quiz() {\r\n  const { state } = useLocation();\r\n  const [wordsList, setWordsList] = useState([]);\r\n  const navigate = useNavigate();\r\n  const [totalCorrectAnswers, setTotalCorrectAnswers] = useState(0);\r\n  const [currentQuestion, setCurrentQuestion] = useState({\r\n    number: 0,\r\n    id: null,\r\n    word: \"\",\r\n    pos: \"\",\r\n    answer: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    async function fetchWordsList() {\r\n      const result = await apiClient.get(endPoints.wordsList);\r\n      return result;\r\n    }\r\n\r\n    fetchWordsList()\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setWordsList(data);\r\n        setCurrentQuestion({\r\n          number: 0,\r\n          ...data[0],\r\n          answer: false,\r\n        });\r\n      })\r\n\r\n      .catch((err) => console.log(err.message));\r\n  }, []);\r\n\r\n  const handleNextQuestion = () => {\r\n    let nextWord = currentQuestion.number + 1;\r\n    setCurrentQuestion({\r\n      number: nextWord,\r\n      ...wordsList[nextWord],\r\n      answer: false,\r\n    });\r\n  };\r\n\r\n  const increaseTotalCorrectAnswers = () => {\r\n    setTotalCorrectAnswers(totalCorrectAnswers + 1);\r\n  };\r\n\r\n  const updateAnswerValue = (syntactic) => {\r\n    setCurrentQuestion({\r\n      ...currentQuestion,\r\n      answer: syntactic,\r\n    });\r\n  };\r\n\r\n  const handleAnswer = (syntactic) => {\r\n    if (syntactic === currentQuestion.pos) {\r\n      increaseTotalCorrectAnswers();\r\n    }\r\n\r\n    updateAnswerValue(syntactic);\r\n  };\r\n\r\n  const handleOnNextButtonClick = () => {\r\n    if (currentQuestion.number === 9) {\r\n      navigate(\"/rank\", { state: { ...state, score: totalCorrectAnswers } });\r\n    } else {\r\n      handleNextQuestion();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <QuizContainer\r\n      currentQuestion={currentQuestion}\r\n      totalCorrectAnswers={totalCorrectAnswers}\r\n      handleAnswer={handleAnswer}\r\n      handleOnNextButtonClick={handleOnNextButtonClick}\r\n      state={state}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Quiz;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}